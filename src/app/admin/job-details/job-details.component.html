<app-topbar></app-topbar>
<div class="mt-0 min-h-screen bg-gray-100">
  @if (job) {
    <div class="mx-auto mr-5 mt-20 rounded-md bg-white p-6 shadow-lg lg:ml-64">
      <h2 class="mb-4 text-2xl font-bold">Update Job Details</h2>

      <form [formGroup]="updateJobForm" (ngSubmit)="onSubmit()">
        <!-- Title -->

        <div class="flex flex-col md:flex-row md:gap-5">
          <div class="md:w-1/2">
            <label class="mb-2 block font-semibold text-gray-700" for="title"
              >Job Title</label
            >

            <input
              type="text"
              id="title"
              formControlName="title"
              pInputText
              class="mb-4 w-full rounded border border-gray-300 p-2 focus:outline-none focus:ring-2 focus:ring-blue-500"
              [style]="{ height: '40px' }"
            />
          </div>

          <div class="md:w-1/2">
            <!-- Years of Experience -->
            <label class="mb-2 block font-semibold text-gray-700" for="years"
              >Years of Experience</label
            >
            <!-- <input
          type="text"
          id="years"
          pInputText
          formControlName="years"
          class="mb-4 w-full rounded border border-gray-300 p-2 focus:outline-none focus:ring-2 focus:ring-blue-500"
          [style]="{ height: '40px' }"
          /> -->
            <p-dropdown
              formControlName="years"
              [options]="years"
              id="years"
              placeholder="Select years of experience"
              class="w-full !text-sm"
              scrollHeight="300px"
              [style]="{ width: '100%', height: '40px' }"
            />
          </div>
        </div>
        <div class="flex flex-col md:flex-row md:gap-5">
          <div class="md:w-1/2">
            <label
              class="mb-2 block font-semibold text-gray-700"
              for="department"
              >Department</label
            >

            <!-- <input
          type="text"
          id="department"
          pInputText
          formControlName="department"
          class="mb-4 w-full rounded border border-gray-300 p-2 focus:outline-none focus:ring-2 focus:ring-blue-500"
          [style]="{ height: '40px' }"
          /> -->
            <p-dropdown
              formControlName="department"
              [options]="departments"
              id="department"
              placeholder="Select department"
              class="w-full !text-sm"
              scrollHeight="300px"
              [style]="{ width: '100%', height: '40px' }"
            />
          </div>

          <div class="mb-4 md:w-1/2">
            <label class="mb-2 block font-semibold text-gray-700" for="location"
              >Location</label
            >
            <p-dropdown
              formControlName="location"
              [options]="cities"
              id="location"
              placeholder="Select a City"
              class="w-full !text-sm"
              scrollHeight="300px"
              [style]="{ width: '100%', height: '40px' }"
            />
          </div>
        </div>

        <label class="mb-2 block font-semibold text-gray-700" for="description"
          >Job Description</label
        >
        <div class="mb-6 mt-2">
          <p-editor
            formControlName="description"
            [style]="{ height: '400px' }"
          />
        </div>

        <p-button
          label="Update job"
          [loading]="isLoading"
          type="submit"
          severity="success"
          [style]="{ width: '100%' }"
        />
      </form>

      <p-toast></p-toast>
    </div>
  } @else {
    <div class="flex h-screen w-screen items-center justify-center">
      <app-loading-spinner></app-loading-spinner>
    </div>
  }
</div>
